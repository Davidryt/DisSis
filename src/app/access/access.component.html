<div class="container" fxLayout="column" fxLayoutAlign="space-around center">
  <img class="logo" src="assets/imagenes/logo.png" />
  <div class="signin" fxLayout="row" fxLayoutAlign="center">
    <div class="card__container">
      <mat-card class="tarjeta">
        <mat-card-title class="titulo__user">Iniciar sesión</mat-card-title>
        <mat-card-content fxLayout="column" fxLayoutAlign="center">
          <mat-form-field>
            <mat-label>Rol</mat-label>
            <mat-select [(ngModel)]="user.rol" name="rol">
              <mat-option *ngFor="let rol of getTipos()" [value]="rol">
                {{ rol }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="error" *ngIf="errors.rol">{{ errors.rol }}</div>

          <mat-form-field>
            <input
              matInput
              type="text"
              placeholder="Nombre de usuario"
              [(ngModel)]="user.name"
              name="nombre"
            />
          </mat-form-field>
          <div class="error" *ngIf="errors.name">{{ errors.name }}</div>

          <mat-form-field>
            <input
              matInput
              type="password"
              placeholder="Contraseña"
              [(ngModel)]="user.pass"
              name="nombre"
            />
          </mat-form-field>
          <div class="error" *ngIf="errors.pass">{{ errors.password }}</div>
        </mat-card-content>

        <mat-card-actions fxLayout="row" style="margin-top: 50px">
          <div fxFlex fxLayoutAlign="center">
            <button (click)="iniciar()" mat-flat-button color="primary">
              Acceder
            </button>
          </div>
        </mat-card-actions>
      </mat-card>
      <div class="separator"></div>
      <mat-card class="tarjeta crear">
        <mat-card-title class="titulo__user">Registrarse</mat-card-title>
        <mat-card-content fxLayout="column" fxLayoutAlign="center">
          <mat-form-field>
            <mat-label>Residencia</mat-label>
            <mat-select [(ngModel)]="newUser.resi" name="resi">
              <mat-option
                *ngFor="let resi of getResidencias(); let i = index"
                [value]="resi"
              >
                {{ resi }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="error" *ngIf="errors.resi">{{ errors.resi }}</div>

          <mat-form-field
            ><input
              matInput
              type="text"
              placeholder="Nombre de usuario"
              [(ngModel)]="newUser.user"
              name="user"
          /></mat-form-field>
          <div class="error" *ngIf="errors.user">{{ errors.user }}</div>

          <mat-form-field
            ><input
              matInput
              type="password"
              placeholder="Contraseña"
              [(ngModel)]="newUser.password"
              name="nombre"
          /></mat-form-field>
          <div class="error" *ngIf="errors.password">{{ errors.password }}</div>

          <mat-form-field
            ><input
              matInput
              type="text"
              placeholder="Nombre y apellidos"
              [(ngModel)]="newUser.fullName"
              name="nombre"
          /></mat-form-field>
          <div class="error" *ngIf="errors.fullName">{{ errors.fullName }}</div>

          <mat-form-field
            ><input
              matInput
              type="text"
              placeholder="Dirección"
              [(ngModel)]="newUser.address"
              name="nombre"
          /></mat-form-field>
          <div class="error" *ngIf="errors.address">{{ errors.address }}</div>

          <mat-form-field
            ><input
              matInput
              type="number"
              placeholder="Teléfono"
              [(ngModel)]="newUser.phone"
              name="telefono"
          /></mat-form-field>
          <div class="error" *ngIf="errors.phone">{{ errors.phone }}</div>

          <mat-form-field
            ><input
              matInput
              type="text"
              placeholder="ID de familiar"
              [(ngModel)]="newUser.id"
              name="emp"
          /></mat-form-field>
          <div class="error" *ngIf="errors.id">{{ errors.id }}</div>
        </mat-card-content>

        <mat-card-actions fxLayout="row" style="margin-top: 50px">
          <div fxFlex fxLayoutAlign="center">
            <button (click)="registrar()" mat-flat-button color="accent">
              Crear cuenta
            </button>
          </div>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
